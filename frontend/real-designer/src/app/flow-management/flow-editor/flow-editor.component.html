<!-- Blank Context Menu -->
<div style="position: fixed" [style.left.px]="contextMenuPosition.x"
  [style.top.px]="contextMenuPosition.y" [matMenuTriggerFor]="blankContextMenu">
</div>
<mat-menu #blankContextMenu="matMenu">
  <!--<button mat-menu-item (click)="addInstanceNode()">Add Instance</button>-->
  <button mat-menu-item (click)="addTriggerNode()">Add Trigger</button>
  <button mat-menu-item (click)="addConditionNode()">Add Condition</button>
  <button mat-menu-item (click)="addGateNode()">Add Gate</button>
  <button mat-menu-item (click)="addOperationNode()">Add Operation</button>
  <button mat-menu-item (click)="addActionNode()">Add Action</button>
  <button mat-menu-item (click)="addNestedFlowNode()">Add Nested Flow</button>
</mat-menu>

<!-- Node Context Menu -->
<div style="position: fixed" [style.left.px]="contextMenuPosition.x"
  [style.top.px]="contextMenuPosition.y" [matMenuTriggerFor]="nodeContextMenu">
</div>
<mat-menu #nodeContextMenu="matMenu">
  <button mat-menu-item (click)="duplicateSelectedNode()">Duplicate</button>
  <button mat-menu-item (click)="deleteSelectedNode()">Delete</button>
</mat-menu>

<!-- Flow -->
<div class="flow-outer">
  <div *ngIf="flow" class="flow-name">
    <input type="text" maxlength="50" class="name-field" value={{flow.name}}
      (keyup)="onNameChange.emit($event.target.value)">
    <button mat-button color="primary" class="add-button" (click)="showBlankContextMenu($event)">
      <mat-icon>add box</mat-icon>
    </button>
    <button mat-button class="destroy-button" color="warn" (click)="onDestroyFlow.emit()">
      <mat-icon>delete</mat-icon>
    </button>
  </div>
  <div class="flow-inner">
    <div class="flow-paper"></div>
  </div>
</div>
